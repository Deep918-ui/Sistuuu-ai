<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Codelyn ‚Äî Sister</title>

<style>
:root{
  --bg:#0b0011; --accent:#c44dff; --soft:#ffbaf7;
}
*{box-sizing:border-box}
body{
  margin:0; font-family:Poppins, Inter, sans-serif;
  background:linear-gradient(180deg,var(--bg),#15001f);
  color:#fff; display:flex; justify-content:center; padding:20px;
}
.app{
  width:100%; max-width:900px;
  background:rgba(255,255,255,0.03);
  border-radius:14px;
  box-shadow:0 25px 70px rgba(0,0,0,.6);
  overflow:hidden;
}
header{
  padding:20px 22px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.title{
  font-size:24px; font-weight:800; color:var(--soft);
  text-shadow:0 0 12px var(--accent);
}
.sub{ font-size:12px; opacity:.75; margin-top:4px; }

main{ display:grid; grid-template-columns:1fr 300px; gap:14px; padding:18px; }
.chatBox{
  background:rgba(255,255,255,0.04);
  padding:16px; border-radius:10px; max-height:65vh;
  overflow:auto;
}
.msg{ margin:12px 0; padding:12px 14px; border-radius:12px; max-width:80%; }
.user{ background:#1c1a22; margin-left:auto; }
.sis{ background:linear-gradient(90deg,var(--accent),#9b47f8); }
.inputRow{ display:flex; gap:10px; margin-top:10px; }
input{
  flex:1; padding:12px; border-radius:10px; border:none;
  background:#120018; color:#fff; outline:none;
}
button{
  padding:10px 14px; border-radius:10px; border:none;
  cursor:pointer; font-weight:700; background:var(--accent); color:#fff;
}
.controls{ padding:10px; border-left:1px solid rgba(255,255,255,0.06); }
.small{ font-size:12px; opacity:.8; margin-bottom:4px; }
footer{
  padding:12px; text-align:center;
  font-size:12px; opacity:.75;
  border-top:1px solid rgba(255,255,255,0.05);
}
@media(max-width:900px){
  main{ grid-template-columns:1fr; }
  .controls{ border-left:none; border-top:1px solid rgba(255,255,255,0.06); }
}
</style>
</head>

<body>
<div class="app">

<header>
  <div class="title">Codelyn ‚Äî Sister</div>
  <div class="sub">behave like a real sister ¬∑ Made by Deep</div>
</header>

<main>
  <div>
    <div id="chat" class="chatBox"></div>

    <div class="inputRow">
      <input id="msg" type="text" placeholder="Type‚Ä¶" />
      <button id="send">Send</button>
    </div>
  </div>

  <div class="controls">
    <div class="small">Sister name</div>
    <input id="sis" value="Sistuu">

    <div class="small" style="margin-top:12px;">Your name</div>
    <input id="you" value="Deep">

    <div class="small" style="margin-top:12px;">Quick</div>
    <button onclick="quick('love')" style="margin-top:6px;">‚ù§Ô∏è Love</button>
    <button onclick="quick('sorry')" style="margin-top:6px;">üôè Sorry</button>
    <button onclick="quick('tease')" style="margin-top:6px;">üòè Tease</button>
    <button onclick="quick('miss')" style="margin-top:6px;">ü•∫ Miss</button>
  </div>
</main>

<footer>Powered by Codelyn</footer>

</div>

<script>
const chat = document.getElementById("chat");
const msg = document.getElementById("msg");
const sendBtn = document.getElementById("send");

function addMessage(text, who){
  const div = document.createElement("div");
  div.className = "msg " + (who === "user" ? "user" : "sis");
  div.innerHTML = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

sendBtn.onclick = async () => {
  const content = msg.value.trim();
  if(!content) return;

  const you = document.getElementById("you").value;
  const sis = document.getElementById("sis").value;

  addMessage(`<strong>${you}:</strong> ${content}`, "user");
  msg.value = "";

  const res = await fetch("/api/chat", {
    method: "POST",
    headers:{ "Content-Type": "application/json" },
    body: JSON.stringify({ message: content, you, sis })
  });

  const data = await res.json();
  addMessage(`<strong>${sis}:</strong> ${data.reply}`, "sis");
};

function quick(type){
  if(type === "love") msg.value = "I love you";
  if(type === "sorry") msg.value = "Sorry, please";
  if(type === "tease") msg.value = "You're so silly üòÇ";
  if(type === "miss") msg.value = "I miss you";
  sendBtn.click();
}
</script>

</body>
</html>